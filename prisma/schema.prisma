generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Author {
  id          Int      @id @default(autoincrement())
  name        String
  nationality String
  born_date   DateTime
  biography   String
  stock_books Int

  books Book[]

}

model Book {
  id               Int      @id @default(autoincrement())
  author           Author   @relation(fields: [author_id], references: [id])
  author_id        Int
  availability     String 
  stock            Int      @default(0)
  title            String
  publication_date DateTime
  genre            String
  language         String
  loan_price       Decimal

  loans Loans[]

}

model Loans {
  id          Int      @id @default(autoincrement())
  book        Book     @relation(fields: [book_id], references: [id])
  book_id     Int
  price       Decimal
  reader      String
  loan_date   DateTime
  return_date DateTime

}